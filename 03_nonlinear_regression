{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# NONLINEAR REGRESSION MODELS"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- KNN - K-Nearest Neighbor\n",
    "- SVR - Support Vector Regression\n",
    "- MLP - Multilayer Perceptron (Artificial Neural Network)\n",
    "- CART - Classification and Regression Trees\n",
    "- Bagging (Bootstrap Aggregation)\n",
    "- RF - Random Forests\n",
    "- GBM - Gradients Boosting Machines\n",
    "- XGBoost - Extreme Gradient Boosting\n",
    "- LightGBM\n",
    "- CatBoost"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import pandas as pd \n",
    "from sklearn.model_selection import train_test_split, GridSearchCV,cross_val_score\n",
    "from sklearn.metrics import mean_squared_error, r2_score\n",
    "import matplotlib.pyplot as plt\n",
    "from sklearn.preprocessing import scale \n",
    "from sklearn import model_selection\n",
    "from sklearn.tree import DecisionTreeRegressor, DecisionTreeClassifier\n",
    "from sklearn.neighbors import KNeighborsRegressor\n",
    "from sklearn.ensemble import BaggingRegressor\n",
    "\n",
    "from warnings import filterwarnings\n",
    "filterwarnings('ignore')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# KNN - K-Nearest Neighbor"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Predictions are made according to observation similarity.\n",
    "- It is a nonparametric learning type; it is not very effective for big data."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Fit KNN model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "knn_model = KNeighborsRegressor().fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "KNeighborsRegressor(algorithm='auto', leaf_size=30, metric='minkowski',\n",
       "                    metric_params=None, n_jobs=None, n_neighbors=5, p=2,\n",
       "                    weights='uniform')"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_model"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**neighbors** - Neighborhood parameter; default value is 5. Optimize it!"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Observing neighborhood parameter:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "5"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_model.n_neighbors"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'euclidean'"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_model.effective_metric_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = knn_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Test error:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "426.6570764525201"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Train error for different k vakues:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "RMSE value for:  k = 1 is 0.0\n",
      "RMSE value for:  k = 2 is 179.52761335480352\n",
      "RMSE value for:  k = 3 is 205.20157172291863\n",
      "RMSE value for:  k = 4 is 220.5139794876305\n",
      "RMSE value for:  k = 5 is 239.64671325413764\n",
      "RMSE value for:  k = 6 is 243.5904190007242\n",
      "RMSE value for:  k = 7 is 258.1478781634636\n",
      "RMSE value for:  k = 8 is 266.05374203349805\n",
      "RMSE value for:  k = 9 is 269.73782093553376\n",
      "RMSE value for:  k = 10 is 271.2798300436963\n"
     ]
    }
   ],
   "source": [
    "RMSE = [] \n",
    "\n",
    "for k in range(10):\n",
    "    k = k+1\n",
    "    knn_model = KNeighborsRegressor(n_neighbors = k).fit(X_train, y_train)\n",
    "    y_pred = knn_model.predict(X_train) \n",
    "    rmse = np.sqrt(mean_squared_error(y_train,y_pred)) \n",
    "    RMSE.append(rmse) \n",
    "    print(\"RMSE value for: \", \"k =\" , k , \"is\", rmse)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Determine optimum k by using GridSearchCV method:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import GridSearchCV"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- KNN parameters:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "knn_params = {'n_neighbors': np.arange(1,30,1)}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "knn = KNeighborsRegressor()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "knn_cv_model = GridSearchCV(knn, knn_params, cv = 10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=KNeighborsRegressor(algorithm='auto', leaf_size=30,\n",
       "                                           metric='minkowski',\n",
       "                                           metric_params=None, n_jobs=None,\n",
       "                                           n_neighbors=5, p=2,\n",
       "                                           weights='uniform'),\n",
       "             iid='warn', n_jobs=None,\n",
       "             param_grid={'n_neighbors': array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,\n",
       "       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=0)"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Find the best parameter:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "8"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_cv_model.best_params_[\"n_neighbors\"]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Compare validated and unvalidated RMSE values:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "k = 1 RMSE value:  0.0    RMSE_CV value:  325.39475147063825\n",
      "k = 2 RMSE value:  179.52761335480352    RMSE_CV value:  293.24000183333817\n",
      "k = 3 RMSE value:  205.20157172291863    RMSE_CV value:  283.7486667487823\n",
      "k = 4 RMSE value:  220.5139794876305    RMSE_CV value:  286.3240222024089\n",
      "k = 5 RMSE value:  239.64671325413764    RMSE_CV value:  290.0705466132226\n",
      "k = 6 RMSE value:  243.5904190007242    RMSE_CV value:  298.1263115575851\n",
      "k = 7 RMSE value:  258.1478781634636    RMSE_CV value:  294.77070479194987\n",
      "k = 8 RMSE value:  266.05374203349805    RMSE_CV value:  291.98672028891235\n",
      "k = 9 RMSE value:  269.73782093553376    RMSE_CV value:  295.7162739573105\n",
      "k = 10 RMSE value:  271.2798300436963    RMSE_CV value:  301.31047022701154\n"
     ]
    }
   ],
   "source": [
    "RMSE = [] \n",
    "RMSE_CV = []\n",
    "for k in range(10):\n",
    "    k = k+1\n",
    "    knn_model = KNeighborsRegressor(n_neighbors = k).fit(X_train, y_train)\n",
    "    y_pred = knn_model.predict(X_train) \n",
    "    rmse = np.sqrt(mean_squared_error(y_train,y_pred)) \n",
    "    rmse_cv = np.sqrt(-1*cross_val_score(knn_model, X_train, y_train, cv=10, \n",
    "                                         scoring = \"neg_mean_squared_error\").mean())\n",
    "    RMSE.append(rmse) \n",
    "    RMSE_CV.append(rmse_cv)\n",
    "    print(\"k =\" , k , \"RMSE value: \", rmse, \"   RMSE_CV value: \", rmse_cv )\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Use validated values."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "knn_tuned = KNeighborsRegressor(n_neighbors = knn_cv_model.best_params_[\"n_neighbors\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "KNeighborsRegressor(algorithm='auto', leaf_size=30, metric='minkowski',\n",
       "                    metric_params=None, n_jobs=None, n_neighbors=8, p=2,\n",
       "                    weights='uniform')"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "knn_tuned.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "413.7094731463598"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, knn_tuned.predict(X_test)))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# SVR - Support Vector Regression"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "![](img4.jpg)\n",
    "\n",
    "Epsilon - acceptable error\n",
    "\n",
    "**Purpose:** Find w and b parameters\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Linear SVR:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "from sklearn.model_selection import train_test_split\n",
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train = pd.DataFrame(X_train[\"Hits\"])\n",
    "X_test = pd.DataFrame(X_test[\"Hits\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.svm import SVR"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [],
   "source": [
    "svr_model = SVR(\"linear\").fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Prediction values for train:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([403.52804878, 666.91219512, 706.66829268, 194.80853659,\n",
       "       423.40609756])"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_model.predict(X_train)[0:5]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Model equation of linear SVR:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "y = -48.69756097561513 + 4.969512195122093 x\n"
     ]
    }
   ],
   "source": [
    "print (\"y = {0} + {1} x\".format(svr_model.intercept_[0], \n",
    "                                svr_model.coef_[0][0])) "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "183    91.0\n",
       "Name: Hits, dtype: float64"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "X_train[\"Hits\"][0:1]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "403.5280487804953"
      ]
     },
     "execution_count": 32,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "-48.69756097561513 + 4.969512195122093*91"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- 2 variables -> simple SVR"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = svr_model.predict(X_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Geometrical representation of simple SVR:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[<matplotlib.lines.Line2D at 0x10a988410>]"
      ]
     },
     "execution_count": 34,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "plt.scatter(X_train, y_train)\n",
    "plt.plot(X_train,y_pred, color = \"r\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Formulation of linear regression:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "y = -8.814095480334572 + 5.1724561354706875 x\n"
     ]
    }
   ],
   "source": [
    "from sklearn.linear_model import LinearRegression\n",
    "lm_model = LinearRegression().fit(X_train, y_train)\n",
    "lm_pred  = lm_model.predict(X_train)\n",
    "print(\"y = {0} + {1} x\".format(lm_model.intercept_, lm_model.coef_[0]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "461.879412847498"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "-8.814095480334572 + 5.1724561354706875*91"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**SVR prediction value:** 403\n",
    "\n",
    "**Linear regression prediction value:** 461"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0, 0.5, 'Maa≈ü (Salary)')"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.scatter(X_train, y_train, alpha=0.5, s=23)\n",
    "plt.plot(X_train, lm_pred, 'g')\n",
    "plt.plot(X_train, y_pred, color='r')\n",
    "\n",
    "plt.xlabel(\"Atƒ±≈ü Sayƒ±sƒ±(Hits)\")\n",
    "plt.ylabel(\"Maa≈ü (Salary)\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**green** -> linear regression\n",
    "\n",
    "**red** -> SVR\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "y = -48.69756097561513 + 4.969512195122093 x\n"
     ]
    }
   ],
   "source": [
    "print (\"y = {0} + {1} x\".format(svr_model.intercept_[0], svr_model.coef_[0][0])) "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([403.52804878])"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_model.predict([[91]])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Test error:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = svr_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "459.0187960365147"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import numpy as np\n",
    "from sklearn.metrics import mean_squared_error\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "SVR(C=1.0, cache_size=200, coef0=0.0, degree=3, epsilon=0.1,\n",
       "    gamma='auto_deprecated', kernel='linear', max_iter=-1, shrinking=True,\n",
       "    tol=0.001, verbose=False)"
      ]
     },
     "execution_count": 42,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_model"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "SVR(C=1.0, cache_size=200, coef0=0.0, degree=3, epsilon=0.1,\n",
       "    gamma='auto_deprecated', kernel='linear', max_iter=-1, shrinking=True,\n",
       "    tol=0.001, verbose=False)"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_model"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Tune C complexity parameter:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split, GridSearchCV,cross_val_score\n",
    "svr_params = {\"C\": np.arange(0.1,2,0.1)}\n",
    "svr_cv_model = GridSearchCV(svr_model, svr_params, cv = 10).fit(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.1"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pd.Series(svr_cv_model.best_params_)[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [],
   "source": [
    "svr_tuned = SVR(\"linear\", \n",
    "                C = pd.Series(svr_cv_model.best_params_)[0]).fit(X_train, y_train)\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = svr_tuned.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "458.198966781116"
      ]
     },
     "execution_count": 64,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "458.198966781116"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# Nonlinear SVR"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [],
   "source": [
    "np.random.seed(3)\n",
    "\n",
    "x_sim = np.random.uniform(2, 10, 145)\n",
    "y_sim = np.sin(x_sim) + np.random.normal(0, 0.4, 145)\n",
    "\n",
    "x_outliers = np.arange(2.5, 5, 0.5)\n",
    "y_outliers = -5*np.ones(5)\n",
    "\n",
    "x_sim_idx = np.argsort(np.concatenate([x_sim, x_outliers]))\n",
    "x_sim = np.concatenate([x_sim, x_outliers])[x_sim_idx]\n",
    "y_sim = np.concatenate([y_sim, y_outliers])[x_sim_idx]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n",
    "from sklearn.linear_model import LinearRegression\n",
    "ols = LinearRegression()\n",
    "ols.fit(np.sin(x_sim[:, np.newaxis]), y_sim)\n",
    "ols_pred = ols.predict(np.sin(x_sim[:, np.newaxis]))\n",
    "\n",
    "from sklearn.svm import SVR\n",
    "eps = 0.1\n",
    "svr = SVR('rbf', epsilon = eps)\n",
    "svr.fit(x_sim[:, np.newaxis], y_sim)\n",
    "svr_pred = svr.predict(x_sim[:, np.newaxis])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.scatter(x_sim, y_sim, alpha=0.5, s=26)\n",
    "plt_ols, = plt.plot(x_sim, ols_pred, 'g')\n",
    "plt_svr, = plt.plot(x_sim, svr_pred, color='r')\n",
    "plt.xlabel(\"Baƒüƒ±msƒ±z Deƒüi≈üken\")\n",
    "plt.ylabel(\"Baƒüƒ±mlƒ± Deƒüi≈üken\")\n",
    "plt.ylim(-5.2, 2.2)\n",
    "plt.legend([plt_ols, plt_svr], ['EKK', 'SVR'], loc = 4);"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Outliers affected linear regression more.\n",
    "\n",
    "- Fit nonlinear SVR model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [],
   "source": [
    "svr_rbf = SVR(\"rbf\").fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = svr_rbf.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "473.4445984431814"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "SVR(C=1.0, cache_size=200, coef0=0.0, degree=3, epsilon=0.1,\n",
       "    gamma='auto_deprecated', kernel='rbf', max_iter=-1, shrinking=True,\n",
       "    tol=0.001, verbose=False)"
      ]
     },
     "execution_count": 53,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_rbf"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=SVR(C=1.0, cache_size=200, coef0=0.0, degree=3,\n",
       "                           epsilon=0.1, gamma='auto_deprecated', kernel='rbf',\n",
       "                           max_iter=-1, shrinking=True, tol=0.001,\n",
       "                           verbose=False),\n",
       "             iid='warn', n_jobs=None,\n",
       "             param_grid={'C': [0.01, 0.1, 0.4, 5, 10, 20, 30, 40, 50]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=0)"
      ]
     },
     "execution_count": 54,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "svr_params = {\"C\": [0.01, 0.1,0.4,5,10,20,30,40,50]}\n",
    "svr_cv_model = GridSearchCV(svr_rbf,svr_params, cv = 10)\n",
    "svr_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Optimum C value:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "20"
      ]
     },
     "execution_count": 55,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pd.Series(svr_cv_model.best_params_)[0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [],
   "source": [
    "svr_tuned = SVR(\"rbf\", C = pd.Series(svr_cv_model.best_params_)[0]).fit(X_train, \n",
    "                                                                        y_train)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "472.20974524750574"
      ]
     },
     "execution_count": 57,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pred = svr_tuned.predict(X_test)\n",
    "\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# Multilayer Perceptrons (Artificial Neural Networks)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "\n",
    "![](img5.jpg)\n",
    "\n",
    "![](img6.jpg)\n",
    "\n",
    "\n",
    "Artificial neural networks:\n",
    "\n",
    "![](img7.jpg)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.preprocessing import StandardScaler"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Transformation - standardization:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "StandardScaler(copy=True, with_mean=True, with_std=True)"
      ]
     },
     "execution_count": 60,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "scaler = StandardScaler()\n",
    "scaler.fit(X_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train_scaled = scaler.transform(X_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_test_scaled = scaler.transform(X_test)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Fit the model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.neural_network import MLPRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [],
   "source": [
    "mlp_model = MLPRegressor(hidden_layer_sizes = (100,20)).fit(X_train_scaled, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "MLPRegressor(activation='relu', alpha=0.0001, batch_size='auto', beta_1=0.9,\n",
       "             beta_2=0.999, early_stopping=False, epsilon=1e-08,\n",
       "             hidden_layer_sizes=(100, 20), learning_rate='constant',\n",
       "             learning_rate_init=0.001, max_iter=200, momentum=0.9,\n",
       "             n_iter_no_change=10, nesterovs_momentum=True, power_t=0.5,\n",
       "             random_state=None, shuffle=True, solver='adam', tol=0.0001,\n",
       "             validation_fraction=0.1, verbose=False, warm_start=False)"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_model"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Layer count:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "4"
      ]
     },
     "execution_count": 66,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_model.n_layers_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Hidden layers:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(100, 20)"
      ]
     },
     "execution_count": 67,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_model.hidden_layer_sizes"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = mlp_model.predict(X_test_scaled)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "527.4270090447499"
      ]
     },
     "execution_count": 69,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "MLPRegressor(activation='relu', alpha=0.0001, batch_size='auto', beta_1=0.9,\n",
       "             beta_2=0.999, early_stopping=False, epsilon=1e-08,\n",
       "             hidden_layer_sizes=(100, 20), learning_rate='constant',\n",
       "             learning_rate_init=0.001, max_iter=200, momentum=0.9,\n",
       "             n_iter_no_change=10, nesterovs_momentum=True, power_t=0.5,\n",
       "             random_state=None, shuffle=True, solver='adam', tol=0.0001,\n",
       "             validation_fraction=0.1, verbose=False, warm_start=False)"
      ]
     },
     "execution_count": 70,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "metadata": {},
   "outputs": [],
   "source": [
    "mlp_params = {'alpha': [0.1, 0.01,0.02,0.005],\n",
    "             'hidden_layer_sizes': [(20,20),(100,50,150),(300,200,150)],\n",
    "             'activation': ['relu','logistic']}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {},
   "outputs": [],
   "source": [
    "mlp_cv_model = GridSearchCV(mlp_model, mlp_params, cv = 10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=MLPRegressor(activation='relu', alpha=0.0001,\n",
       "                                    batch_size='auto', beta_1=0.9, beta_2=0.999,\n",
       "                                    early_stopping=False, epsilon=1e-08,\n",
       "                                    hidden_layer_sizes=(100, 20),\n",
       "                                    learning_rate='constant',\n",
       "                                    learning_rate_init=0.001, max_iter=200,\n",
       "                                    momentum=0.9, n_iter_no_change=10,\n",
       "                                    nesterovs_momentum=True, power_t=0.5,\n",
       "                                    random_state=None, shuffle=True,\n",
       "                                    solver='adam', tol=0.0001,\n",
       "                                    validation_fraction=0.1, verbose=False,\n",
       "                                    warm_start=False),\n",
       "             iid='warn', n_jobs=None,\n",
       "             param_grid={'activation': ['relu', 'logistic'],\n",
       "                         'alpha': [0.1, 0.01, 0.02, 0.005],\n",
       "                         'hidden_layer_sizes': [(20, 20), (100, 50, 150),\n",
       "                                                (300, 200, 150)]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=0)"
      ]
     },
     "execution_count": 73,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_cv_model.fit(X_train_scaled, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Best parameters:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'activation': 'relu', 'alpha': 0.01, 'hidden_layer_sizes': (100, 50, 150)}"
      ]
     },
     "execution_count": 74,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "metadata": {},
   "outputs": [],
   "source": [
    "mlp_tuned = MLPRegressor(alpha = 0.02, hidden_layer_sizes = (100,50,150))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 76,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "MLPRegressor(activation='relu', alpha=0.02, batch_size='auto', beta_1=0.9,\n",
       "             beta_2=0.999, early_stopping=False, epsilon=1e-08,\n",
       "             hidden_layer_sizes=(100, 50, 150), learning_rate='constant',\n",
       "             learning_rate_init=0.001, max_iter=200, momentum=0.9,\n",
       "             n_iter_no_change=10, nesterovs_momentum=True, power_t=0.5,\n",
       "             random_state=None, shuffle=True, solver='adam', tol=0.0001,\n",
       "             validation_fraction=0.1, verbose=False, warm_start=False)"
      ]
     },
     "execution_count": 76,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "mlp_tuned.fit(X_train_scaled, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = mlp_tuned.predict(X_test_scaled)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "361.77739022461884"
      ]
     },
     "execution_count": 78,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# CART - Classification and Regression Trees"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Purpose:** Convert complex things into simle decision structures. Create homogen subgroups from a heterogen dataset.\n",
    "\n",
    "![](img9.jpg)\n",
    "\n",
    "![](img10.jpg)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train = pd.DataFrame(X_train[\"Hits\"])\n",
    "X_test = pd.DataFrame(X_test[\"Hits\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 81,
   "metadata": {},
   "outputs": [],
   "source": [
    "cart_model = DecisionTreeRegressor(max_leaf_nodes = 10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                      max_leaf_nodes=10, min_impurity_decrease=0.0,\n",
       "                      min_impurity_split=None, min_samples_leaf=1,\n",
       "                      min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                      presort=False, random_state=None, splitter='best')"
      ]
     },
     "execution_count": 82,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 83,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                      max_leaf_nodes=10, min_impurity_decrease=0.0,\n",
       "                      min_impurity_split=None, min_samples_leaf=1,\n",
       "                      min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                      presort=False, random_state=None, splitter='best')"
      ]
     },
     "execution_count": 83,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Create grid for regression rule points:\n",
    "\n",
    "- Create scatter plot for salary and hits variables:\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "X_grid = np.arange(min(np.array(X_train)),max(np.array(X_train)), 0.01) \n",
    "X_grid = X_grid.reshape((len(X_grid), 1))  \n",
    "plt.scatter(X_train, y_train, color = 'red') \n",
    "plt.plot(X_grid, cart_model.predict(X_grid), color = 'blue')  \n",
    "plt.title('CART Regression Tree')  \n",
    "plt.xlabel('Hits') \n",
    "plt.ylabel('Salary') ;"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "metadata": {},
   "outputs": [],
   "source": [
    "x = [91]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "345.2011551724138"
      ]
     },
     "execution_count": 91,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "(345.2011551724138 if x[0] <= 117.5 else ((((1300.0 if x[0] <= 118.5 else \n",
    "    641.0) if x[0] <= 122.5 else 1468.5236666666667) if x[0] <= 125.5 else \n",
    "    621.9679230769232) if x[0] <= 143.0 else (958.6111111111111 if x[0] <= \n",
    "    150.5 else 2460.0) if x[0] <= 151.5 else 499.1666666666667 if x[0] <= \n",
    "    157.5 else 892.5402413793104) if x[0] <= 225.5 else 1975.0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([621.96792308, 958.61111111, 621.96792308, 345.20115517,\n",
       "       345.20115517])"
      ]
     },
     "execution_count": 92,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_model.predict(X_test)[0:5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([345.20115517])"
      ]
     },
     "execution_count": 93,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_model.predict([[91]])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 94,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred =cart_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "486.34593105235456"
      ]
     },
     "execution_count": 95,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "metadata": {},
   "outputs": [],
   "source": [
    "cart_model = DecisionTreeRegressor()\n",
    "cart_model.fit(X_train, y_train)\n",
    "y_pred = cart_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 97,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "468.49579052913884"
      ]
     },
     "execution_count": 97,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "metadata": {},
   "outputs": [],
   "source": [
    "cart_params = {\"min_samples_split\": range(2,100),\n",
    "               \"max_leaf_nodes\": range(2,10)}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "metadata": {},
   "outputs": [],
   "source": [
    "cart_cv_model = GridSearchCV(cart_model, cart_params, cv = 10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=DecisionTreeRegressor(criterion='mse', max_depth=None,\n",
       "                                             max_features=None,\n",
       "                                             max_leaf_nodes=None,\n",
       "                                             min_impurity_decrease=0.0,\n",
       "                                             min_impurity_split=None,\n",
       "                                             min_samples_leaf=1,\n",
       "                                             min_samples_split=2,\n",
       "                                             min_weight_fraction_leaf=0.0,\n",
       "                                             presort=False, random_state=None,\n",
       "                                             splitter='best'),\n",
       "             iid='warn', n_jobs=None,\n",
       "             param_grid={'max_leaf_nodes': range(2, 10),\n",
       "                         'min_samples_split': range(2, 100)},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=0)"
      ]
     },
     "execution_count": 100,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'max_leaf_nodes': 9, 'min_samples_split': 76}"
      ]
     },
     "execution_count": 101,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "metadata": {},
   "outputs": [],
   "source": [
    "cart_tuned = DecisionTreeRegressor(max_leaf_nodes = 9, min_samples_split = 37)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                      max_leaf_nodes=9, min_impurity_decrease=0.0,\n",
       "                      min_impurity_split=None, min_samples_leaf=1,\n",
       "                      min_samples_split=37, min_weight_fraction_leaf=0.0,\n",
       "                      presort=False, random_state=None, splitter='best')"
      ]
     },
     "execution_count": 103,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cart_tuned.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = cart_tuned.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "434.2326688144208"
      ]
     },
     "execution_count": 105,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "toc-hr-collapsed": true,
    "toc-nb-collapsed": true
   },
   "source": [
    "# Bagged Trees Regresyon"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "BaggingRegressor(base_estimator=None, bootstrap=True, bootstrap_features=True,\n",
       "                 max_features=1.0, max_samples=1.0, n_estimators=10,\n",
       "                 n_jobs=None, oob_score=False, random_state=None, verbose=0,\n",
       "                 warm_start=False)"
      ]
     },
     "execution_count": 107,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model = BaggingRegressor(bootstrap_features = True)\n",
    "bag_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**n_estimators** -> how many trees?"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "10"
      ]
     },
     "execution_count": 108,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model.n_estimators"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1875850171, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1686320658, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=2106270115, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=604160287, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1818112300, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1144551074, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1634764234, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=820974251, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=1387516839, splitter='best'),\n",
       " DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                       max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                       min_impurity_split=None, min_samples_leaf=1,\n",
       "                       min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                       presort=False, random_state=2009973545, splitter='best')]"
      ]
     },
     "execution_count": 109,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model.estimators_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Samples in each tree:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[array([120, 102, 141,  16,  82,  35, 147,  84,   6, 161, 141, 164, 178,\n",
       "        119,  59,  89,  83, 116, 180,  74, 128,  70,  48,  73, 157, 173,\n",
       "         67,  89, 127, 108, 110, 162,  39, 151,  81,  52, 171,  40, 152,\n",
       "        129,  56, 100, 129, 125,  53, 101, 140, 101, 114,  26,   4,  19,\n",
       "         59,   1, 195, 132, 162,  79, 176,  97,  79, 165, 132, 163,  62,\n",
       "        147, 170,  92,  29,  44,   7, 195, 188,  52,  93, 183, 138, 175,\n",
       "         99,  40,  90,  45, 195,  20,  62,  86, 135, 115,  95,   7,  59,\n",
       "        123, 143, 171, 120,  72,  75, 183, 190,  64,  56,  83, 174,  94,\n",
       "        166, 132,  12,  25, 113, 185, 187,   8,  14,  70,  21,  36, 101,\n",
       "         30,  96, 112,   1, 138, 149,  46,  46,  78,  22, 109,  93, 140,\n",
       "         33,  70, 179,  38,  35,  85,  75,  11, 153, 151,  76,  39, 136,\n",
       "         99,  28, 108,  54, 179,  83,  32,   0, 130, 142, 194, 140,  38,\n",
       "         51,   6,  44,  70,  15, 174,  23, 125, 100,  90,  50, 139,  32,\n",
       "        107,  51, 143, 179, 185,  50,  27, 115, 175, 168, 166, 132,  63,\n",
       "         80, 180,  29,  70, 138, 118,  68,  37,  57,  32, 161, 117,  40,\n",
       "         57,  57]),\n",
       " array([175, 142,  67, 175,  63,  74,  42, 124, 165, 168,  50, 105,  87,\n",
       "        122,  11,  42, 155, 191,  83, 175,  96,  59,  71,  70, 172, 113,\n",
       "        119, 169, 192,   7, 104, 126, 179, 153,  50,  43,  12,  24,  42,\n",
       "        170, 173, 169,  43,  89,  91, 196,  17,  52,  67, 125, 128,  33,\n",
       "        180, 143, 149,  64, 144, 191,  65,   9,  87, 180,  83, 137, 130,\n",
       "        103, 137, 151, 119, 174, 105, 133,  65,  16,  41,   5,  18, 177,\n",
       "        140,  36, 126, 142,  57, 150, 172,  32, 123,  64, 168,   0, 126,\n",
       "          8, 116,  85,  19,   7,  28, 194, 146, 143, 153,  34,  19,  91,\n",
       "        137, 172,  11,  65,  48,  75,  42,  65, 108, 184, 174,  81, 125,\n",
       "         27,  12,  71,  98, 186,   5,  92, 178, 162,  12,  28, 138,  65,\n",
       "         22, 117, 160, 145, 177, 155, 164, 184, 125,  98,  40, 131, 159,\n",
       "        188, 193,  87,  71, 147, 196, 184,  76, 139,  22,  33,  48, 105,\n",
       "         86, 166, 158,  57, 179, 139, 177,  31,  29, 142,  72, 139,  47,\n",
       "         74,   6, 116, 118,  76,  80, 143, 144,  76, 173,  25,  77,  68,\n",
       "        149, 192, 111,  38, 172, 164,  65,  10, 170, 190, 112, 159, 162,\n",
       "          1,  66]),\n",
       " array([114,  83, 154,  30,  19, 164,  24, 186, 109, 174, 165,  87,   3,\n",
       "        170, 196, 116,  43, 171,  46, 142,   9, 116, 184,  90, 191,  26,\n",
       "        168, 153,  98,  20,  94, 119,  11, 138,  70, 135, 193,  54, 103,\n",
       "        150, 104, 183, 169,   7, 153,  52, 131, 127, 193, 167,  99,  90,\n",
       "        141, 172, 102, 158,  54, 146,  36,  16,  24,   4, 113,  22,  82,\n",
       "          0, 168,  54,  51, 120,  95,  63, 111, 182,  47,  41,  69,  57,\n",
       "        183, 167,  74,  44,  48, 168, 101, 111,  43, 182,  47,  96, 196,\n",
       "         65, 106, 158, 131, 113, 118,  55,  99,  15, 139, 105,  81, 114,\n",
       "         80,  30,  21, 162, 118,  50, 109,  92,  84,  74,  35,  46, 117,\n",
       "         61,   9,  23, 120, 127, 119, 190,  36, 175, 121, 161,  22,   9,\n",
       "         29, 109, 104, 123, 132,  40, 175, 106,  13, 111, 119, 151, 124,\n",
       "         98,   1, 136, 172,  51, 139,  73,  39, 194,  45, 106, 163, 192,\n",
       "        135, 171,  48,  70,  40, 175, 186, 190, 141, 166, 147,  56,   2,\n",
       "        188,  93, 128,  79, 120,  80,  27, 123,  73,  19,  44, 130,   0,\n",
       "         58,  28,  54,  26, 157,  23,  26, 147,  87,  20, 172, 139, 158,\n",
       "         60,  51]),\n",
       " array([107, 168, 125,  58, 151, 107, 130,  24,  84,  52, 100, 149,  87,\n",
       "        113,  85,  44, 142, 157,  78,  31,  34, 145,  89, 132,  19, 187,\n",
       "         87,  58,   5, 155, 125,   0,  34,  90, 191, 121, 130,  94,  63,\n",
       "         21,  88, 132,  76, 176, 104,   5, 126,  49,  89, 138,  60,  84,\n",
       "        157,   7,  21,   0,  35, 130,  40, 125, 131, 139,  23, 155, 129,\n",
       "         26,  17,  16, 147, 161, 193, 141, 125, 165, 118, 158,  90,  62,\n",
       "         13,  11, 193,  70,  14, 123, 159, 133,  50, 160, 109, 127,  67,\n",
       "        196,  96, 140, 145, 119, 131,  48, 164,  20,  80, 181,  74,  39,\n",
       "         52,   7, 186,  14,  96,   2, 142,  92, 173,  70, 152, 175,  37,\n",
       "          1,  77, 166,  62,  29, 120, 116, 152,  30,  45,  27, 139,   1,\n",
       "         81, 196, 194,  76, 138, 118,  10,  85,  50, 145, 156,  35, 122,\n",
       "          4, 127,  21, 130,  74, 135, 144, 150, 160, 142, 144, 136,  22,\n",
       "        147,  12, 164,  60,  85, 165,  16, 193, 180,  92, 132, 112, 158,\n",
       "        129, 173, 100, 117,  94, 180, 194, 116, 160, 196, 140, 107, 162,\n",
       "        134,  77, 142, 169,  48,   6, 112,  40, 146,  18,  71, 195,  95,\n",
       "         44,  98]),\n",
       " array([110,  43, 149,   0,  99,  43, 193, 105, 124, 122, 144,  88, 180,\n",
       "        170, 125, 104,  91,  62,  27,  84,  15, 186,   4, 179,  12, 190,\n",
       "        105, 172,  72,  56, 170, 124,  45,  92, 139,  12,  73, 160, 127,\n",
       "         42, 103, 131, 166,  51,  71, 143, 154, 134, 143,  55,   8,  85,\n",
       "         87,  29,  97,   4,  65, 149,  31,  16, 125,  61,  83,  66,  31,\n",
       "         15, 131,  23, 190, 171, 161, 145,  43,  21,   7, 172, 151,  15,\n",
       "        133, 145,  26, 138, 158,  90,  77, 184,  21, 122,  35, 122,  93,\n",
       "         21, 125,  63,  19, 100,   6, 183, 142, 167,  44,  84,  15,  69,\n",
       "          7,  70,  62, 163, 169,  19,  67,  91,   3,  16, 164, 107,  31,\n",
       "        103, 165,  22,   9, 108,   7, 136,  97,  48, 120, 126, 111, 117,\n",
       "        145, 187, 180,  84,  86, 111, 167, 192, 134,  48, 125, 116,  71,\n",
       "         89, 174, 185,  93, 173,  95, 159,  11, 182, 157,  59,  14,  27,\n",
       "         92,  82,  96,  32, 131, 191,  44, 132, 120,  42, 134, 115, 165,\n",
       "         96,  48,  54, 121,  77,   8,  49, 146, 133, 186, 102, 183,  57,\n",
       "        125, 143,  65, 109, 101, 158, 115,  26, 180,  92,  19,  26, 122,\n",
       "        168, 176]),\n",
       " array([161,  71,  54,  24, 127, 177,  73, 123,   6,  86,  22,  73,  17,\n",
       "         42, 121,  89, 178,   7,  64, 190,  89,  93,  51,   6, 190, 120,\n",
       "        162, 120, 108, 121,  65, 154,  32,  37,  48,  96,  64, 148,  73,\n",
       "        152, 186,  51,  15, 190,  79, 120,  28,  96,  36, 163,  96,  17,\n",
       "        104,  25, 196,  49,  74,  51,  62, 107, 103, 108, 143,  57, 188,\n",
       "        101, 158, 195,  33, 122,  23,  64,  97, 146,  24, 160,  27, 172,\n",
       "         27,  95,  22, 110,  52, 154,  22, 145,  66,   6, 196, 114,  28,\n",
       "        158, 115,  26,  25,  97,  49,  56,  52, 117, 155,  82, 154, 184,\n",
       "        137, 183, 147, 156,  58,  47,  27,  47, 176,  47, 180, 102, 119,\n",
       "        191,  66,  52, 160, 154,  35, 165, 191, 121,  12, 155,   4,  25,\n",
       "         40,  62,   0,  22,  72, 106,  39,  32, 110,  71,  14,  77, 159,\n",
       "        184, 158,  37, 118,  21, 109, 129, 105, 101, 147,  48,  73, 140,\n",
       "         86, 185,  76, 187,  71, 175, 189, 143,  51, 143, 115, 195,  81,\n",
       "         18,  24,  16, 184,  46, 149, 156,  31,  67,  36,  57, 104, 167,\n",
       "          9,  17,  94,  75,  39,  82, 186,  64,  28,   9, 153, 129,  20,\n",
       "        130,  55]),\n",
       " array([ 54, 115,  38,  30,  72, 144, 178, 176, 102,  51, 154, 129, 181,\n",
       "         77,  75, 180, 110,  75, 144, 196,  52, 196, 179, 174,  61, 115,\n",
       "         75, 157, 196, 193, 101, 127, 162,  51,  18, 132, 168,  79, 155,\n",
       "        114,  14, 138,  16, 158,  84, 135, 122,  74,  79,  45, 110, 114,\n",
       "        181, 106,  64,   2, 121, 155, 114,  72,  79, 131,  74, 162,   2,\n",
       "        174, 144, 183,  16,  93, 138, 182, 130,  94,  29,   8,   4, 118,\n",
       "        179, 131, 137, 152, 153, 145, 159,  85, 101, 194, 105,  90,  54,\n",
       "         51, 164, 111,  97, 189, 110,  62,  99, 165, 164, 172,   5, 194,\n",
       "        133, 130,  74,  42, 101,  22,  84, 126, 116,  94,  36,  66, 167,\n",
       "        100, 175,  26, 115,   1, 143, 181, 143, 126,  60, 149, 132,  96,\n",
       "         28, 169,  77, 188,  53,  66, 113, 129, 158,  80, 138, 128,  94,\n",
       "        105, 142, 116,  67,  59, 177, 183, 128, 175, 162,  72, 152,  40,\n",
       "         87, 161,  93, 105, 142, 184, 116, 104,  67,  31, 118,  58,  86,\n",
       "        104,  15,  22,  13, 175, 134, 116, 189,   7,  75,  27,  10, 145,\n",
       "         30, 127,  28,  31,  73,   3, 158,   2, 123, 144, 150, 157,  69,\n",
       "        138, 142]),\n",
       " array([139, 169, 105,  70,  46,  13, 171, 109,  43, 193,  50, 192, 167,\n",
       "          8, 189, 181,  63,   6,  24, 119, 143, 140,  79,  25, 192, 120,\n",
       "        145,   3,  99,  90, 139,  76,  73, 148, 169,  83, 137,  94, 136,\n",
       "        138,  18, 155, 175, 112,  31,  66,   8, 154, 118,  95, 172,  51,\n",
       "        158, 192,  11, 110,   2,  58,  75, 163, 121, 150,  77,  37, 146,\n",
       "         79,  87,  91, 137,  70, 135,  34, 140,  39,  65,  98,  71,  62,\n",
       "         52,   7,  26,  24,  90, 133,  93,  21, 112, 136, 160,  39,  43,\n",
       "         36,  57,  37,  25,  83,  75, 136, 170,  61,  27,  72,  75,  66,\n",
       "        105, 135,  13,  55,  79, 130, 110,  21,  53,   2, 141, 143, 122,\n",
       "        148, 146,  11,  36,  21,  66, 140, 159, 115,  80, 189,  42,  74,\n",
       "        153, 141, 158, 132,  51,  31,   7, 120, 167, 127, 103,  43, 169,\n",
       "          5,  74,  75, 167, 146, 141,  42, 119,  26,  25,  46,  31, 187,\n",
       "        168, 171,  80, 160, 135,  66,   3,  98, 120, 123,  42,  89, 151,\n",
       "         13,  55, 140, 127, 193, 158, 114, 143, 105,  47,  89, 146,  72,\n",
       "         11, 113,   4,  25, 143, 188,  81, 129,  36, 111,  96,  28,   4,\n",
       "        196,  95]),\n",
       " array([ 18, 194,  10,   1, 147,  20,  10, 162,  40, 143,  30, 162,  19,\n",
       "         28, 195,  32,  56,  61, 125, 171, 119,  78, 187, 143,  28, 188,\n",
       "        105,  63, 108, 154, 173,  14,  61, 163, 183, 103,  49, 159, 167,\n",
       "         20,  73, 155, 178,  15,   7, 155, 107, 151, 173,  58,  17, 100,\n",
       "         39,  95, 170, 174, 109,   6,  50,  51,  49,   0,  31,  80,   2,\n",
       "        114, 134,  39, 156,  90,  27,  89,  78,  41,  53, 130, 185,  58,\n",
       "         64,  27, 119, 155,  50, 159, 133,  64, 184, 168,   4, 129,  63,\n",
       "        175,  95,  82,   5, 141, 111, 130,  44,  29, 195,  21, 154, 142,\n",
       "         18, 128,  52,  17,   4,   8,  79, 143, 129, 184, 123,  35,  85,\n",
       "        115,  66, 113, 165,  17, 136, 140, 176, 151, 155,  80, 121,   0,\n",
       "        134, 191,  80,  45, 137, 175,  23,  69, 192,  29,  33, 112,  45,\n",
       "        157,  98,  24,  50,  42, 154,  47, 142, 183, 185, 152,  82,  78,\n",
       "        119,   3,  28,  18, 120,  31,  92, 107, 182, 182, 160, 116,  60,\n",
       "         87, 104,  72, 131, 185,  37,  71,  90,   7, 121,  59,  72, 187,\n",
       "         60, 104,  14, 194,  74, 150, 176,  17, 137,   5, 111, 150,   0,\n",
       "         62,  62]),\n",
       " array([146, 149,  89,  22,  77,  91,  61, 169, 150,  38, 178,  97,  65,\n",
       "         47, 187, 162, 125,  54, 143,   1, 183, 126, 191,  46, 124,  22,\n",
       "         57, 185, 169, 125,  82, 135,  92,  52,  97,  86,  87,  35, 150,\n",
       "        185, 188,   5, 111,  26,  20, 151, 194,  11,  89, 168, 101, 138,\n",
       "        104,  36,  25,  19,  59, 107, 192,   4, 190,  35, 187, 172,  24,\n",
       "        185,  30,  85,   1,  55,  98,   9,  69, 163, 142,  66, 178,  61,\n",
       "         52, 102, 138, 166, 151, 140, 100, 178, 183, 142,  54, 130,  38,\n",
       "        143, 107, 106,  20,  94,  42,  83, 192, 160,  74,   8,   5,  43,\n",
       "         40, 196,  62,  30,   4, 172,  16, 185,  35, 104, 143,  24, 165,\n",
       "         56,  14, 111,  45, 177, 104, 139, 159,  27, 170,  35, 120,  57,\n",
       "         43,  87,  37,  96, 185,  34,   8, 177,  14, 169, 100, 189,  92,\n",
       "         41, 122,  42, 167, 132, 132, 175,  65, 171,  85,  19,  58, 164,\n",
       "         20, 177,  22, 162,  41,  18, 100,  97,  43, 124,  23, 153,  22,\n",
       "          3, 156,  64, 180, 121, 117,  51, 168, 170, 110,  10,  94,  83,\n",
       "         86, 167,  57, 130,  83, 134,  63, 154, 125,  86,  86,  58,   9,\n",
       "         96, 110])]"
      ]
     },
     "execution_count": 110,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model.estimators_samples_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Independent variables and index in each tree:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[array([ 1,  3, 15, 11,  8,  1,  0, 14,  2, 17,  6,  7, 15, 17, 17,  1,  3,\n",
       "        13, 14]),\n",
       " array([16,  6,  7, 10,  8,  3, 11,  2,  1, 11,  8,  6,  4,  1, 14, 16, 15,\n",
       "        18, 15]),\n",
       " array([14,  7, 11,  0, 18,  4,  8, 12,  4, 14, 14,  4, 14, 13,  4,  4,  6,\n",
       "        15, 18]),\n",
       " array([ 4, 15, 16,  9, 11, 18,  5, 14,  6, 17,  3, 12,  2,  5,  2,  4,  0,\n",
       "         9, 14]),\n",
       " array([ 9,  7, 13, 18, 11, 13,  0,  4, 13, 10,  1,  8, 17, 14, 13, 13, 13,\n",
       "        11, 14]),\n",
       " array([15,  3, 14,  2,  5,  5, 12, 15, 18,  1,  1, 18,  8, 12,  7,  0, 18,\n",
       "         3,  1]),\n",
       " array([18,  2,  1,  8, 17,  1, 14, 15, 13, 13,  0, 15, 13, 13, 14, 15, 18,\n",
       "         1,  6]),\n",
       " array([16,  7,  6, 17,  9, 14,  4,  9,  9,  2,  5, 17,  3, 10, 11,  6, 11,\n",
       "         8, 11]),\n",
       " array([ 7, 17,  2,  7,  5, 10, 13,  9,  5, 16, 18, 17,  8, 13, 16, 12,  6,\n",
       "        12, 18]),\n",
       " array([ 0, 12,  8,  0, 16,  0,  3,  5, 15, 17, 10,  2,  9,  5,  0, 11, 14,\n",
       "         7, 18])]"
      ]
     },
     "execution_count": 111,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model.estimators_features_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Model for each tree:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "DecisionTreeRegressor(criterion='mse', max_depth=None, max_features=None,\n",
       "                      max_leaf_nodes=None, min_impurity_decrease=0.0,\n",
       "                      min_impurity_split=None, min_samples_leaf=1,\n",
       "                      min_samples_split=2, min_weight_fraction_leaf=0.0,\n",
       "                      presort=False, random_state=1686320658, splitter='best')"
      ]
     },
     "execution_count": 112,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model.estimators_[1]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 217,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = bag_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 218,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "348.0232963415683"
      ]
     },
     "execution_count": 218,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Ask each tree:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 115,
   "metadata": {},
   "outputs": [],
   "source": [
    "two_y_pred = bag_model.estimators_[1].fit(X_train, y_train).predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "525.2861082332641"
      ]
     },
     "execution_count": 116,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, two_y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 117,
   "metadata": {},
   "outputs": [],
   "source": [
    "seven_y_pred = bag_model.estimators_[6].fit(X_train, y_train).predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 118,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "536.7753604989736"
      ]
     },
     "execution_count": 118,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, seven_y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 262,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "BaggingRegressor(base_estimator=None, bootstrap=True, bootstrap_features=True,\n",
       "         max_features=1.0, max_samples=1.0, n_estimators=10, n_jobs=None,\n",
       "         oob_score=False, random_state=None, verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 262,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_model = BaggingRegressor(bootstrap_features = True)\n",
    "bag_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 263,
   "metadata": {},
   "outputs": [],
   "source": [
    "bag_params = {\"n_estimators\": range(2,20)}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 264,
   "metadata": {},
   "outputs": [],
   "source": [
    "bag_cv_model = GridSearchCV(bag_model, bag_params, cv = 10)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 265,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "       estimator=BaggingRegressor(base_estimator=None, bootstrap=True, bootstrap_features=True,\n",
       "         max_features=1.0, max_samples=1.0, n_estimators=10, n_jobs=None,\n",
       "         oob_score=False, random_state=None, verbose=0, warm_start=False),\n",
       "       fit_params=None, iid='warn', n_jobs=None,\n",
       "       param_grid={'n_estimators': range(2, 20)}, pre_dispatch='2*n_jobs',\n",
       "       refit=True, return_train_score='warn', scoring=None, verbose=0)"
      ]
     },
     "execution_count": 265,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 266,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'n_estimators': 18}"
      ]
     },
     "execution_count": 266,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 268,
   "metadata": {},
   "outputs": [],
   "source": [
    "bag_tuned = BaggingRegressor( n_estimators = 18, random_state = 45)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 269,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "BaggingRegressor(base_estimator=None, bootstrap=True,\n",
       "         bootstrap_features=False, max_features=1.0, max_samples=1.0,\n",
       "         n_estimators=18, n_jobs=None, oob_score=False, random_state=45,\n",
       "         verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 269,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "bag_tuned.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 270,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = bag_tuned.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 271,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "339.22087703488455"
      ]
     },
     "execution_count": 271,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Random Forests"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 119,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 120,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.ensemble import RandomForestRegressor"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Determine model specifications and fit the model:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 121,
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_model = RandomForestRegressor(random_state = 42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 122,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=None,\n",
       "                      max_features='auto', max_leaf_nodes=None,\n",
       "                      min_impurity_decrease=0.0, min_impurity_split=None,\n",
       "                      min_samples_leaf=1, min_samples_split=2,\n",
       "                      min_weight_fraction_leaf=0.0, n_estimators=10,\n",
       "                      n_jobs=None, oob_score=False, random_state=42, verbose=0,\n",
       "                      warm_start=False)"
      ]
     },
     "execution_count": 122,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 123,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([ 782.2   , 1071.75  , 1619.    ,  147.4167,  671.    ])"
      ]
     },
     "execution_count": 123,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_model.predict(X_test)[0:5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 124,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = rf_model.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 125,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "373.04044281427"
      ]
     },
     "execution_count": 125,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_params = {'max_depth': list(range(1,10)),\n",
    "            'max_features': [3,5,10,15],\n",
    "            'n_estimators' : [100, 200, 500, 1000, 2000]}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- It is said that 500 and 1000 works well as tree count:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 132,
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_model = RandomForestRegressor(random_state = 42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_cv_model = GridSearchCV(rf_model, \n",
    "                           rf_params, \n",
    "                           cv = 10, \n",
    "                            n_jobs = -1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=RandomForestRegressor(bootstrap=True, criterion='mse',\n",
       "                                             max_depth=None,\n",
       "                                             max_features='auto',\n",
       "                                             max_leaf_nodes=None,\n",
       "                                             min_impurity_decrease=0.0,\n",
       "                                             min_impurity_split=None,\n",
       "                                             min_samples_leaf=1,\n",
       "                                             min_samples_split=2,\n",
       "                                             min_weight_fraction_leaf=0.0,\n",
       "                                             n_estimators='warn', n_jobs=None,\n",
       "                                             oob_score=False, random_state=42,\n",
       "                                             verbose=0, warm_start=False),\n",
       "             iid='warn', n_jobs=-1,\n",
       "             param_grid={'max_depth': [1, 2, 3, 4, 5, 6, 7, 8, 9],\n",
       "                         'max_features': [3, 5, 10, 15],\n",
       "                         'n_estimators': [100, 200, 500, 1000, 2000]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=0)"
      ]
     },
     "execution_count": 134,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'max_depth': 8, 'max_features': 3, 'n_estimators': 200}"
      ]
     },
     "execution_count": 135,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "metadata": {},
   "outputs": [],
   "source": [
    "rf_tuned = RandomForestRegressor(max_depth  = 8, \n",
    "                                 max_features = 3, \n",
    "                                 n_estimators =200)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "RandomForestRegressor(bootstrap=True, criterion='mse', max_depth=8,\n",
       "                      max_features=3, max_leaf_nodes=None,\n",
       "                      min_impurity_decrease=0.0, min_impurity_split=None,\n",
       "                      min_samples_leaf=1, min_samples_split=2,\n",
       "                      min_weight_fraction_leaf=0.0, n_estimators=200,\n",
       "                      n_jobs=None, oob_score=False, random_state=None,\n",
       "                      verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 137,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "rf_tuned.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = rf_tuned.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "344.30332133651706"
      ]
     },
     "execution_count": 139,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "- Significance level of variables:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 140,
   "metadata": {},
   "outputs": [],
   "source": [
    "Importance = pd.DataFrame({\"Importance\": rf_tuned.feature_importances_*100},\n",
    "                         index = X_train.columns)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 141,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0.5, 0, 'Deƒüi≈üken √ñnem D√ºzeyleri')"
      ]
     },
     "execution_count": 141,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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+PKXv8whhxzCgQceyNlnn82kSZOoq6vjwgsvZOHChey9994MGzaMYcOGMWXKlJX1GTVqFEcccQSDBw/m2GOPpTDlaerUqeyxxx7suuuujBw5ksWLF7NixQrOOussRowYwdChQ/n1r3/dIb+XLh8NKGlb0rIbr5BaKwUPAP8saWNSvr8flLj886Scg4cC/9WC7BPFk8iWFVejmeum5Pv0i4g3JT1IytSxG9DkOzQzs/aaOXMm8+bNY4MNNmDbbbflhBNO4OGHH+biiy/mkksu4aKLLgJSV97f//53FixYwH777cdTTz3FZZddBsDs2WbeW5cAAA6hSURBVLN5/PHHOfDAA5k/P+VneOCBB5g1axYbbLABEydO5IILLlgZ5N577z3uuusu+vTpw5NPPskxxxxDYb7oo48+yty5c9liiy3Yc889mTx5MiNHjuSoo47iuuuuY8SIEbzzzjv07duXq666iv79+zN16lSWLVvGnnvuyYEHHtiqYeqldGmwyoHoCuDSPJF35bG8/Rfgl8C8iHi9wbU9gK0i4l5J9wNfISW1LTaF1Cr7PSkt0/20zWRSto6JeXsWqZW1KanV1TTnBjSzdhgxYgSbb55WLxo0aBAHHnggAEOGDFnZUgI48sgj6dGjB9tttx3bbrstjz/+OPfffz+nnnoqAIMHD2brrbdeGaw+/elPs8EGG5S854cffsgpp5zCjBkz6Nmz58prAEaOHMmAAQMAqKurY+HChfTv35/NN9+cESNGAPCxj30MgDvvvJNZs2Zxww03APD222/z5JNPVkWw6puTwPYmdd39nhSQSrkOmAqMLnGsJ/CHnOtPpKVJ3mowBPI04LeSzgJeBY5vY52nANsCPwaIiOWSXgGez+/XzMw6zdprr73ye48ePVZu9+jRg+XLV70BaTgEXNLKLrpS1l133UaPXXjhhWy66abMnDmTjz76iD59+qw8Vlyfnj17snz5ciKi5BD0iOCSSy7hoIMOauIJW6/Tg1VE9Gzi2ERWtV7IQ9nV4JzzijaL30EVjo8jZWUnIhYC+5c4Z3SD7SaH3eRRiw3rMaqpa8zMutr111/PcccdxzPPPMPTTz/NDjvswD777MP48ePZf//9mT9/Ps899xw77LADjzyyemrTfv36sXjx4pXbb7/9NgMGDKBHjx5cc801rFixosl7Dx48mBdffJGpU6cy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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "Importance.sort_values(by = \"Importance\", \n",
    "                       axis = 0, \n",
    "                       ascending = True).plot(kind =\"barh\", color = \"r\")\n",
    "\n",
    "plt.xlabel(\"Deƒüi≈üken √ñnem D√ºzeyleri\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Gradient Boosting Machines"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Trees are dependent; iterative.\n",
    "\n",
    "![](img13.png)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 142,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.ensemble import GradientBoostingRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 143,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "GradientBoostingRegressor(alpha=0.9, criterion='friedman_mse', init=None,\n",
       "                          learning_rate=0.1, loss='ls', max_depth=3,\n",
       "                          max_features=None, max_leaf_nodes=None,\n",
       "                          min_impurity_decrease=0.0, min_impurity_split=None,\n",
       "                          min_samples_leaf=1, min_samples_split=2,\n",
       "                          min_weight_fraction_leaf=0.0, n_estimators=100,\n",
       "                          n_iter_no_change=None, presort='auto',\n",
       "                          random_state=None, subsample=1.0, tol=0.0001,\n",
       "                          validation_fraction=0.1, verbose=0, warm_start=False)"
      ]
     },
     "execution_count": 143,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "gbm_model = GradientBoostingRegressor()\n",
    "gbm_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "357.6330621791598"
      ]
     },
     "execution_count": 144,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pred = gbm_model.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 145,
   "metadata": {},
   "outputs": [],
   "source": [
    "gbm_params = {\n",
    "    'learning_rate': [0.001, 0.01, 0.1, 0.2],\n",
    "    'max_depth': [3, 5, 8,50,100],\n",
    "    'n_estimators': [200, 500, 1000, 2000],\n",
    "    'subsample': [1,0.5,0.75],\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 146,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Fitting 10 folds for each of 240 candidates, totalling 2400 fits\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers.\n",
      "[Parallel(n_jobs=-1)]: Done  33 tasks      | elapsed:    2.8s\n",
      "[Parallel(n_jobs=-1)]: Done 154 tasks      | elapsed:   36.7s\n",
      "[Parallel(n_jobs=-1)]: Done 357 tasks      | elapsed:  2.3min\n",
      "[Parallel(n_jobs=-1)]: Done 640 tasks      | elapsed:  4.7min\n",
      "[Parallel(n_jobs=-1)]: Done 1005 tasks      | elapsed:  6.5min\n",
      "[Parallel(n_jobs=-1)]: Done 1450 tasks      | elapsed:  9.1min\n",
      "[Parallel(n_jobs=-1)]: Done 1977 tasks      | elapsed: 10.7min\n",
      "[Parallel(n_jobs=-1)]: Done 2400 out of 2400 | elapsed: 11.9min finished\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=GradientBoostingRegressor(alpha=0.9,\n",
       "                                                 criterion='friedman_mse',\n",
       "                                                 init=None, learning_rate=0.1,\n",
       "                                                 loss='ls', max_depth=3,\n",
       "                                                 max_features=None,\n",
       "                                                 max_leaf_nodes=None,\n",
       "                                                 min_impurity_decrease=0.0,\n",
       "                                                 min_impurity_split=None,\n",
       "                                                 min_samples_leaf=1,\n",
       "                                                 min_samples_split=2,\n",
       "                                                 min_weight_fraction_leaf=0.0,\n",
       "                                                 n_estimators=100,\n",
       "                                                 n_ite...\n",
       "                                                 presort='auto',\n",
       "                                                 random_state=None,\n",
       "                                                 subsample=1.0, tol=0.0001,\n",
       "                                                 validation_fraction=0.1,\n",
       "                                                 verbose=0, warm_start=False),\n",
       "             iid='warn', n_jobs=-1,\n",
       "             param_grid={'learning_rate': [0.001, 0.01, 0.1, 0.2],\n",
       "                         'max_depth': [3, 5, 8, 50, 100],\n",
       "                         'n_estimators': [200, 500, 1000, 2000],\n",
       "                         'subsample': [1, 0.5, 0.75]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=2)"
      ]
     },
     "execution_count": 146,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "gbm = GradientBoostingRegressor()\n",
    "gbm_cv_model = GridSearchCV(gbm, gbm_params, cv = 10, n_jobs = -1, verbose = 2)\n",
    "gbm_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 147,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'learning_rate': 0.1, 'max_depth': 50, 'n_estimators': 200, 'subsample': 0.5}"
      ]
     },
     "execution_count": 147,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "gbm_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 148,
   "metadata": {},
   "outputs": [],
   "source": [
    "gbm_tuned = GradientBoostingRegressor(learning_rate = 0.2,  \n",
    "                                      max_depth = 3, \n",
    "                                      n_estimators =1000, \n",
    "                                      subsample = 0.75)\n",
    "\n",
    "gbm_tuned = gbm_tuned.fit(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 149,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "356.11062627113466"
      ]
     },
     "execution_count": 149,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pred = gbm_tuned.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 150,
   "metadata": {},
   "outputs": [],
   "source": [
    "Importance = pd.DataFrame({\"Importance\": gbm_tuned.feature_importances_*100},\n",
    "                         index = X_train.columns)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 151,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Text(0.5, 0, 'Deƒüi≈üken √ñnem D√ºzeyleri')"
      ]
     },
     "execution_count": 151,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "Importance.sort_values(by = \"Importance\", \n",
    "                       axis = 0, \n",
    "                       ascending = True).plot(kind =\"barh\", color = \"r\")\n",
    "\n",
    "plt.xlabel(\"Deƒüi≈üken √ñnem D√ºzeyleri\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# XGBoost - Extreme Gradient Boosting"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 152,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#!pip install xgboost"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 153,
   "metadata": {},
   "outputs": [],
   "source": [
    "import xgboost as xgb"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 154,
   "metadata": {},
   "outputs": [],
   "source": [
    "DM_train = xgb.DMatrix(data = X_train, label = y_train)\n",
    "DM_test = xgb.DMatrix(data = X_test, label = y_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 155,
   "metadata": {},
   "outputs": [],
   "source": [
    "from xgboost import XGBRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 156,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[14:30:13] WARNING: src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\n"
     ]
    }
   ],
   "source": [
    "xgb_model = XGBRegressor().fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 157,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "359.91750599447033"
      ]
     },
     "execution_count": 157,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pred = xgb_model.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 158,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "XGBRegressor(base_score=0.5, booster='gbtree', colsample_bylevel=1,\n",
       "             colsample_bynode=1, colsample_bytree=1, gamma=0,\n",
       "             importance_type='gain', learning_rate=0.1, max_delta_step=0,\n",
       "             max_depth=3, min_child_weight=1, missing=None, n_estimators=100,\n",
       "             n_jobs=1, nthread=None, objective='reg:linear', random_state=0,\n",
       "             reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,\n",
       "             silent=None, subsample=1, verbosity=1)"
      ]
     },
     "execution_count": 158,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "xgb_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 159,
   "metadata": {},
   "outputs": [],
   "source": [
    "xgb_grid = {\n",
    "     'colsample_bytree': [0.4, 0.5,0.6,0.9,1], \n",
    "     'n_estimators':[100, 200, 500, 1000],\n",
    "     'max_depth': [2,3,4,5,6],\n",
    "     'learning_rate': [0.1, 0.01, 0.5]\n",
    "}\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 160,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Fitting 10 folds for each of 300 candidates, totalling 3000 fits\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers.\n",
      "[Parallel(n_jobs=-1)]: Done  58 tasks      | elapsed:    2.6s\n",
      "[Parallel(n_jobs=-1)]: Done 300 tasks      | elapsed:   16.4s\n",
      "[Parallel(n_jobs=-1)]: Done 706 tasks      | elapsed:   39.4s\n",
      "[Parallel(n_jobs=-1)]: Done 1272 tasks      | elapsed:  1.3min\n",
      "[Parallel(n_jobs=-1)]: Done 1805 tasks      | elapsed:  1.9min\n",
      "[Parallel(n_jobs=-1)]: Done 2250 tasks      | elapsed:  2.6min\n",
      "[Parallel(n_jobs=-1)]: Done 2777 tasks      | elapsed:  3.3min\n",
      "[Parallel(n_jobs=-1)]: Done 3000 out of 3000 | elapsed:  3.6min finished\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[14:33:52] WARNING: src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=XGBRegressor(base_score=0.5, booster='gbtree',\n",
       "                                    colsample_bylevel=1, colsample_bynode=1,\n",
       "                                    colsample_bytree=1, gamma=0,\n",
       "                                    importance_type='gain', learning_rate=0.1,\n",
       "                                    max_delta_step=0, max_depth=3,\n",
       "                                    min_child_weight=1, missing=None,\n",
       "                                    n_estimators=100, n_jobs=1, nthread=None,\n",
       "                                    objective='reg:linear', random_state=0,\n",
       "                                    reg_alpha=0, reg_lambda=1,\n",
       "                                    scale_pos_weight=1, seed=None, silent=None,\n",
       "                                    subsample=1, verbosity=1),\n",
       "             iid='warn', n_jobs=-1,\n",
       "             param_grid={'colsample_bytree': [0.4, 0.5, 0.6, 0.9, 1],\n",
       "                         'learning_rate': [0.1, 0.01, 0.5],\n",
       "                         'max_depth': [2, 3, 4, 5, 6],\n",
       "                         'n_estimators': [100, 200, 500, 1000]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=2)"
      ]
     },
     "execution_count": 160,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "xgb = XGBRegressor()\n",
    "\n",
    "xgb_cv = GridSearchCV(xgb, \n",
    "                      param_grid = xgb_grid, \n",
    "                      cv = 10, \n",
    "                      n_jobs = -1,\n",
    "                      verbose = 2)\n",
    "\n",
    "\n",
    "xgb_cv.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'colsample_bytree': 0.5,\n",
       " 'learning_rate': 0.1,\n",
       " 'max_depth': 2,\n",
       " 'n_estimators': 1000}"
      ]
     },
     "execution_count": 161,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "xgb_cv.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 162,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[14:33:52] WARNING: src/objective/regression_obj.cu:152: reg:linear is now deprecated in favor of reg:squarederror.\n"
     ]
    }
   ],
   "source": [
    "xgb_tuned = XGBRegressor(colsample_bytree = 0.9, \n",
    "                         learning_rate = 0.01, \n",
    "                         max_depth = 5, \n",
    "                         n_estimators = 1000) \n",
    "\n",
    "xgb_tuned = xgb_tuned.fit(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 163,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "363.1126581668057"
      ]
     },
     "execution_count": 163,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y_pred = xgb_tuned.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Light GBM"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 164,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 165,
   "metadata": {},
   "outputs": [],
   "source": [
    "#!pip install lightgbm"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 166,
   "metadata": {},
   "outputs": [],
   "source": [
    "import lightgbm\n",
    "from lightgbm import LGBMRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#conda install -c conda-forge lightgbm"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 167,
   "metadata": {},
   "outputs": [],
   "source": [
    "from lightgbm import LGBMRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 168,
   "metadata": {},
   "outputs": [],
   "source": [
    "lgbm = LGBMRegressor()\n",
    "lgbm_model = lgbm.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 169,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = lgbm_model.predict(X_test, \n",
    "                            num_iteration = lgbm_model.best_iteration_)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 170,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "363.8712087611089"
      ]
     },
     "execution_count": 170,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 171,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LGBMRegressor(boosting_type='gbdt', class_weight=None, colsample_bytree=1.0,\n",
       "              importance_type='split', learning_rate=0.1, max_depth=-1,\n",
       "              min_child_samples=20, min_child_weight=0.001, min_split_gain=0.0,\n",
       "              n_estimators=100, n_jobs=-1, num_leaves=31, objective=None,\n",
       "              random_state=None, reg_alpha=0.0, reg_lambda=0.0, silent=True,\n",
       "              subsample=1.0, subsample_for_bin=200000, subsample_freq=0)"
      ]
     },
     "execution_count": 171,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lgbm_model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 172,
   "metadata": {},
   "outputs": [],
   "source": [
    "lgbm_grid = {\n",
    "    'colsample_bytree': [0.4, 0.5,0.6,0.9,1],\n",
    "    'learning_rate': [0.01, 0.1, 0.5,1],\n",
    "    'n_estimators': [20, 40, 100, 200, 500,1000],\n",
    "    'max_depth': [1,2,3,4,5,6,7,8] }\n",
    "\n",
    "lgbm = LGBMRegressor()\n",
    "lgbm_cv_model = GridSearchCV(lgbm, lgbm_grid, cv=10, n_jobs = -1, verbose = 2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 173,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Fitting 10 folds for each of 960 candidates, totalling 9600 fits\n"
     ]
    },
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "[Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers.\n",
      "[Parallel(n_jobs=-1)]: Done  92 tasks      | elapsed:    1.8s\n",
      "[Parallel(n_jobs=-1)]: Done 576 tasks      | elapsed:   12.3s\n",
      "[Parallel(n_jobs=-1)]: Done 1388 tasks      | elapsed:   29.6s\n",
      "[Parallel(n_jobs=-1)]: Done 2520 tasks      | elapsed:   55.1s\n",
      "[Parallel(n_jobs=-1)]: Done 3980 tasks      | elapsed:  1.5min\n",
      "[Parallel(n_jobs=-1)]: Done 5760 tasks      | elapsed:  2.4min\n",
      "[Parallel(n_jobs=-1)]: Done 7868 tasks      | elapsed:  3.6min\n",
      "[Parallel(n_jobs=-1)]: Done 9600 out of 9600 | elapsed:  4.6min finished\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "GridSearchCV(cv=10, error_score='raise-deprecating',\n",
       "             estimator=LGBMRegressor(boosting_type='gbdt', class_weight=None,\n",
       "                                     colsample_bytree=1.0,\n",
       "                                     importance_type='split', learning_rate=0.1,\n",
       "                                     max_depth=-1, min_child_samples=20,\n",
       "                                     min_child_weight=0.001, min_split_gain=0.0,\n",
       "                                     n_estimators=100, n_jobs=-1, num_leaves=31,\n",
       "                                     objective=None, random_state=None,\n",
       "                                     reg_alpha=0.0, reg_lambda=0.0, silent=True,\n",
       "                                     subsample=1.0, subsample_for_bin=200000,\n",
       "                                     subsample_freq=0),\n",
       "             iid='warn', n_jobs=-1,\n",
       "             param_grid={'colsample_bytree': [0.4, 0.5, 0.6, 0.9, 1],\n",
       "                         'learning_rate': [0.01, 0.1, 0.5, 1],\n",
       "                         'max_depth': [1, 2, 3, 4, 5, 6, 7, 8],\n",
       "                         'n_estimators': [20, 40, 100, 200, 500, 1000]},\n",
       "             pre_dispatch='2*n_jobs', refit=True, return_train_score=False,\n",
       "             scoring=None, verbose=2)"
      ]
     },
     "execution_count": 173,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lgbm_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 174,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'colsample_bytree': 0.6,\n",
       " 'learning_rate': 0.1,\n",
       " 'max_depth': 7,\n",
       " 'n_estimators': 40}"
      ]
     },
     "execution_count": 174,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lgbm_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Final Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 175,
   "metadata": {},
   "outputs": [],
   "source": [
    "lgbm_tuned = LGBMRegressor(learning_rate = 0.1, \n",
    "                           max_depth = 7, \n",
    "                           n_estimators = 40,\n",
    "                          colsample_bytree = 0.6)\n",
    "\n",
    "lgbm_tuned = lgbm_tuned.fit(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 176,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = lgbm_tuned.predict(X_test)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 177,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "370.0492876350467"
      ]
     },
     "execution_count": 177,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# CatBoost"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "hit = pd.read_csv(\"Hitters.csv\")\n",
    "df = hit.copy()\n",
    "df = df.dropna()\n",
    "dms = pd.get_dummies(df[['League', 'Division', 'NewLeague']])\n",
    "y = df[\"Salary\"]\n",
    "X_ = df.drop(['Salary', 'League', 'Division', 'NewLeague'], axis=1).astype('float64')\n",
    "X = pd.concat([X_, dms[['League_N', 'Division_W', 'NewLeague_N']]], axis=1)\n",
    "X_train, X_test, y_train, y_test = train_test_split(X, y, \n",
    "                                                    test_size=0.25, \n",
    "                                                    random_state=42)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "#!pip install catboost"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "from catboost import CatBoostRegressor"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb = CatBoostRegressor()\n",
    "catb_model = catb.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = catb_model.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Model Tuning"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb_grid = {\n",
    "    'iterations': [200,500,1000,2000],\n",
    "    'learning_rate': [0.01, 0.03, 0.05, 0.1],\n",
    "    'depth': [3,4,5,6,7,8] }"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb = CatBoostRegressor()\n",
    "catb_cv_model = GridSearchCV(catb, catb_grid, cv=5, n_jobs = -1, verbose = 2)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb_cv_model.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb_cv_model.best_params_"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "catb_tuned = CatBoostRegressor(iterations = 200, \n",
    "                               learning_rate = 0.01, \n",
    "                               depth = 8)\n",
    "\n",
    "catb_tuned = catb_tuned.fit(X_train,y_train)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "y_pred = catb_tuned.predict(X_test)\n",
    "np.sqrt(mean_squared_error(y_test, y_pred))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  },
  "toc-autonumbering": true
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
